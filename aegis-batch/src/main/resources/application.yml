server:
  port: 8081 # Evita conflito se rodar na mesma máquina do backend (8080)
  address: 127.0.0.1 # Segurança: só escuta localmente

spring:
  application:
    name: aegis-batch
  main:
    web-application-type: servlet # Mantemos Servlet para Actuator simples, WebClient roda paralelo

management:
  endpoints:
    web:
      exposure:
        include: health, info, metrics
  endpoint:
    health:
      show-details: always

aegis:
  backend:
    url: ${BACKEND_BASE_URL:http://localhost:8080}
    token: ${X_SERVICE_TOKEN:dev-token-123}
  job:
    cron: "0 0 1 * * *" # Ex: 01:00 AM todo dia
    retry:
      max-attempts: ${AEGIS_BATCH_MAX_RETRIES:3}
      backoff-ms: ${AEGIS_BATCH_RETRY_BACKOFF_MS:500}
